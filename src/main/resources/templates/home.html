<!---->
<!--Trần Thảo-->
<!---->
<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Trang Chủ</title>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<!-- Custom CSS -->
<link rel="stylesheet" th:href="@{/css/home.css}">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
	<div class="mb-1" th:replace="~{/fragment/navHome :: navHome}"></div>
	<!-- Slider ngay dưới Navbar -->
	<div id="bannerCarousel" class="carousel slide mt-5"
		data-ride="carousel" data-interval="3000">
		<!-- Indicators (dấu chấm dưới slide) -->
		<ol class="carousel-indicators">
			<li data-target="#bannerCarousel" data-slide-to="0" class="active"></li>
			<li data-target="#bannerCarousel" data-slide-to="1"></li>
			<li data-target="#bannerCarousel" data-slide-to="2"></li>
		</ol>

		<!-- Slide nội dung -->
		<div class="carousel-inner">
			<!-- Slide 1 -->
			<div class="carousel-item active">
				<a href=""> <img
					src="https://m.yodycdn.com/fit-in/filters:format(webp)/fit-in/filters:format(webp)/products/m0uc2rhb10jxqf7urrl1800x833.png"
					class="d-block w-100" alt="Banner 1">
				</a>
			</div>
			<!-- Slide 2 -->
			<div class="carousel-item">
				<a href=""> <img
					src="https://m.yodycdn.com/fit-in/filters:format(webp)/fit-in/filters:format(webp)/products/m0uckftlxhlop5o9d6j1920X864.png"
					class="d-block w-100" alt="Banner 2">
				</a>
			</div>
			<!-- Slide 3 -->
			<div class="carousel-item">
				<a href=""> <img
					src="https://m.yodycdn.com/fit-in/filters:format(webp)/fit-in/filters:format(webp)/products/m0ucrxyqu1s2wveobgf1920x864%20(1).png"
					class="d-block w-100" alt="Banner 3">
				</a>
			</div>
		</div>

		<!-- Điều khiển Previous/Next -->
		<a class="carousel-control-prev" href="#bannerCarousel" role="button"
			data-slide="prev"> <span class="carousel-control-prev-icon"
			aria-hidden="true"></span> <span class="sr-only">Previous</span>
		</a> <a class="carousel-control-next" href="#bannerCarousel" role="button"
			data-slide="next"> <span class="carousel-control-next-icon"
			aria-hidden="true"></span> <span class="sr-only">Next</span>
		</a>
	</div>

	<div class="product-grid">
		<!-- Sản phẩm 1 -->
		<div class="product-card">
			<a href="danh-muc-1.html"> <img
				src="https://m.yodycdn.com/fit-in/filters:format(webp)//products/SECTION%20BANNER%20-%20AO%20GIO.png"
				alt="Sản phẩm 1">
			</a>
		</div>

		<!-- Sản phẩm 2 -->
		<div class="product-card">
			<a href="danh-muc-2.html"> <img
				src="https://m.yodycdn.com/fit-in/filters:format(webp)//products/SECTION%20BANNER%20-%20AO%20POLO.png"
				alt="Sản phẩm 2">
			</a>
		</div>

		<!-- Sản phẩm 3 -->
		<div class="product-card">
			<a href="danh-muc-3.html"> <img
				src="https://m.yodycdn.com/fit-in/filters:format(webp)//products/SECTION%20BANNER%20-%20JEANS%20(1).png"
				alt="Sản phẩm 3">
			</a>
		</div>

		<!-- Sản phẩm 4 -->
		<div class="product-card">
			<a href="danh-muc-4.html"> <img
				src="https://m.yodycdn.com/fit-in/filters:format(webp)//products/SECTION%20BANNER%20-%20%C3%81O%20THUN%20(1).png"
				alt="Sản phẩm 4">
			</a>
		</div>
	</div>

	<!-- New product display section -->
	<div class="container mt-5" id="new-products">
		<h2 class="text-center mb-4">Sản phẩm mới</h2>
		<div class="row">
			<div class="col-md-3 mb-4"
				th:each="product, productStat : ${newProducts}">
				<div class="card product-card">
					<img th:src="@{'/images/' + ${product.images[0].imgLink}}"
						class="card-img-top product-img" alt="Product Image" />
					<div class="cart-overlay">
						<a th:href="@{'/shop/' + ${product.id}}"
							th:if="${product.quantity > 0}"
							class="btn btn-danger btn-add-cart">Thêm vào giỏ hàng</a> <a
							th:if="${product.quantity <= 0}"
							class="btn btn-danger btn-add-cart">Đã hết hàng</a>
					</div>
					<div class="card-body text-center">
						<h5 class="card-title" th:text="${product.productName}">Tên
							sản phẩm</h5>
						<p class="card-text">
							<span th:if="${productsOnDiscount[productStat.index]}"
								class="original-price"
								th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT') + ' đ'}"
								style="text-decoration: line-through; color: #999;">Giá
								gốc</span> <span th:if="${productsOnDiscount[productStat.index]}"
								class="discounted-price"
								th:text="${#numbers.formatDecimal(discountedPrices[productStat.index], 0, 'COMMA', 0, 'POINT') + ' đ'}"
								style="color: #ff0000; font-weight: bold;">Giá mới</span> <span
								th:unless="${productsOnDiscount[productStat.index]}"
								th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT') + ' đ'}">Giá</span>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="container text-center mt-4">
			<a th:href="@{/shop}" class="btn btn-outline-success btn-lg">Xem
				Thêm</a>
		</div>
	</div>

	<!-- Ảnh banner -->
	<div class="banner">
		<a href="danh-muc-yody-sport.html"> <img
			src="https://m.yodycdn.com/fit-in/filters:format(webp)/products/media/collections/POLO%20COOL.png"
			alt="Tuần lễ tri ân cùng YODY Sport">
		</a>
	</div>

	<!-- The section displays random product categories -->
	<div th:if="${hasProducts}" class="container mt-5">
		<h2 class="text-center mb-4" th:text="${randomCategory.categoryName}">Sản phẩm ngẫu nhiên</h2>
		<div class="row">
			<div class="col-md-3 mb-4" th:each="product, productStat : ${randomCategoryProducts}" th:if="${productStat.index < 4}">
				<div class="card product-card">
					<img th:src="@{'/images/' + ${product.images[0].imgLink}}"
						class="card-img-top product-img" alt="Product Image" />
					<div class="cart-overlay">
						<a th:href="@{'/shop/' + ${product.id}}"
							class="btn btn-danger btn-add-cart">Thêm vào giỏ hàng</a>
					</div>
					<div class="card-body text-center">
						<h5 class="card-title" th:text="${product.productName}">Tên
							sản phẩm</h5>
						<p class="card-text">
	                        <span th:if="${randomProductsOnDiscount[product.id]}"
	                              class="original-price"
	                              th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT') + ' đ'}"
	                              style="text-decoration: line-through; color: #999;">Giá gốc</span>
	                        <span th:if="${randomProductsOnDiscount[product.id]}"
	                              class="discounted-price"
	                              th:text="${#numbers.formatDecimal(randomDiscountedPrices[product.id], 0, 'COMMA', 0, 'POINT') + ' đ'}"
	                              style="color: #ff0000; font-weight: bold;">Giá mới</span>
	                        <span th:unless="${randomProductsOnDiscount[product.id]}"
	                              th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT') + ' đ'}">Giá</span>
	                    </p>
					</div>
				</div>
			</div>
		</div>
		<!-- Nút Xem Thêm cho tất cả sản phẩm -->
		<div class="container text-center mt-4">
		    <a th:href="@{/shop(categoryId=${randomCategory.id})}"
		       class="btn btn-outline-success btn-lg">Xem Thêm</a>
		</div>
	</div>
	<!-- Footer -->
	<div th:replace="~{/fragment/footer :: footer}"></div>
	<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Kích hoạt cuộn mượt khi click vào anchor link
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    });
</script>
</body>


</html>